(this.webpackJsonpbluehouse=this.webpackJsonpbluehouse||[]).push([[0],{40:function(e,t,n){},61:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var r,c=n(1),a=n.n(c),s=n(32),i=n.n(s),u=(n(40),n(3)),o=n(0),l=function(){return Object(o.jsx)("header",{children:"Blue House"})},d=n(15),j=n(12),f=n(2),p=n.n(f),b=n(11),h=n(5),O=n(10),x=n(33),v=n.n(x),m="https://sei-items-api.herokuapp.com/api",g="https://api.airtable.com/v0/appjKXvjcVViPcAcb";r="localhost"===window.location.hostname?g:m;var k=v.a.create({baseURL:r,headers:{Authorization:"Bearer ".concat("keyo8sUlHJDXOMBml")}}),w=function(){var e=Object(h.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("https://api.airtable.com/v0/appjKXvjcVViPcAcb"),e.prev=1,e.next=4,k.get("/Categories");case 4:return t=e.sent,e.abrupt("return",t);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(h.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.get("/Expense?view=Grid%20view");case 3:return n=e.sent,e.abrupt("return",n);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(h.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.get("/Expense?offset=".concat(t));case 3:return n=e.sent,e.abrupt("return",n);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(h.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.prev=1,e.next=4,k.get("/Expense/".concat(t));case 4:return n=e.sent,e.abrupt("return",n.data);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(h.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.prev=1,e.next=4,k.post("/Expense",{records:[{fields:t}]});case 4:return n=e.sent,e.abrupt("return",n.data);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(h.a)(p.a.mark((function e(t,n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.put("/Expense",{records:[{id:n,fields:t}]});case 3:return r=e.sent,e.abrupt("return",r.data.records);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),D=function(){var e=Object(h.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.prev=1,e.next=4,k.delete("/Expense?&records[]=".concat(t," "));case 4:return n=e.sent,e.abrupt("return",n.data);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(c.useState)({}),t=Object(O.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)([]),s=Object(O.a)(a,2),i=s[0],u=s[1],l=Object(c.useState)({}),f=Object(O.a)(l,2),x=(f[0],f[1],Object(c.useState)([])),v=Object(O.a)(x,2),m=v[0],g=v[1],k=Object(c.useState)(!1),E=Object(O.a)(k,2),L=E[0],M=E[1],A=Object(c.useState)({}),V=Object(O.a)(A,2),B=V[0],X=V[1],I=Object(c.useState)(),J=Object(O.a)(I,2),P=J[0],T=J[1],z=Object(c.useState)(""),H=Object(O.a)(z,2),K=H[0],U=H[1],G=Object(c.useState)(!0),R=Object(O.a)(G,2),q=R[0],Q=R[1],W=Object(c.useState)(" "),Y=Object(O.a)(W,2),Z=Y[0],$=Y[1],_=Object(c.useState)([]),ee=Object(O.a)(_,2),te=ee[0],ne=ee[1],re=Object(c.useState)({}),ce=Object(O.a)(re,2),ae=ce[0],se=ce[1];Object(c.useEffect)((function(){var e=function(){var e=Object(h.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w().then((function(e){return 200===e.status?u([].concat(Object(b.a)(i),Object(b.a)(e.data.records))):null})).catch(console.error);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(c.useEffect)((function(){ie()}),[]),Object(c.useEffect)((function(){var e=function(){var e=Object(h.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m.length%100!==0){e.next=6;break}return e.next=3,C(Z);case 3:t=e.sent,g([].concat(Object(b.a)(m),Object(b.a)(t.data.records))),100===t.data.records.length&&$(t.data.offset);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[Z]);var ie=function(){var e=Object(h.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:100===(t=e.sent).data.records.length&&(g(t.data.records),$(t.data.offset),ne([]),se({}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ue=function(e){var t,c,a;if("checkbox"===e.target.type){if(a=Object(j.a)({},B),L)if("categories"in a.fields)if(e.target.checked)a.fields.categories.push(e.target.id);else{console.log("false");var s=a.fields.categories.indexOf(e.target.id);a.fields.categories.splice(s,1)}else a.fields.categories=[e.target.id];else a=Object(j.a)({},n),console.log("not edit"),"categories"in a?(console.log("remove nw"),e.target.checked?a.categories.push(e.target.id):a.categories.splice(a.categories.indexOf(e.target.id),1)):(console.log("new"),a.categories=[e.target.id]),console.log(a);L?X(a):r(a)}else t=e.target.name,c=e.target.value,L?X(Object(j.a)(Object(j.a)({},B),{},{fields:Object(j.a)(Object(j.a)({},B.fields),{},Object(d.a)({},t,c))})):r(Object(j.a)(Object(j.a)({},n),{},Object(d.a)({},t,c)))},oe=function(){var e=Object(h.a)(p.a.mark((function e(t,n,r){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(n);case 2:c=e.sent,X(c),T(r),M(!0);case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),le=function(){var e=Object(h.a)(p.a.mark((function e(t,c){var a,s,i,u,o,l,d,j,f,h,O;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=L?B.fields:n,s=a.name,i=a.amount,u=a.vendor,o=a.categories,l=a.date,d=a.purchaser,j={name:s,amount:parseFloat(i),vendor:u,categories:o,date:l,purchaser:d},!L){e.next=14;break}return e.next=6,F(j,c);case 6:f=e.sent,h=Object(b.a)(m.map((function(e,t){return e.id===c?f[0]:e}))),g(h),M(!1),r({}),T(),e.next=18;break;case 14:return e.next=16,S(j);case 16:O=e.sent,g([].concat(Object(b.a)(m),Object(b.a)(O.records)));case 18:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),de=function(e,t){return e.sort((function(n,r){var c,a;if("date"===t?(c=Date.parse(n.fields[t]),a=Date.parse(r.fields[t])):(c=n.fields[t],a=r.fields[t]),q){if(c<a)return-1;if(c>a)return 1}else if(Object.keys(e[0].fields).includes("vendor")){if(c>a)return-1;if(c<a)return 1}return 0})),e},je=function(e,t){if("amount"!==t){var n=Object.keys(e).sort().reduce((function(t,n){return t[n]=e[n],t}),{});se(n)}else{var r=[];for(var c in e)r.push([c,e[c]]);r.sort((function(e,t){return e[1]-t[1]}));var a={};r.forEach((function(e){a[e[0]]=e[1]})),se(a),Q(!q)}},fe=function(e){U(e),Q(!q)},pe=function(){var e=Object(h.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=m.filter((function(e,n){return e.fields.purchaser===t})),ne(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),be=function(e){var t,n={},r=m.map((function(t){return"categories"===e?t.fields[e][0]:t.fields[e]}));Object(b.a)(new Set(r)).map((function(r){t="categories"===e?(t=i.filter((function(e){return r===e.id})))[0].fields.name:r,n[t]=0,m.map((function(c){"categories"===e?c.fields[e][0]===r&&(n[t]+=c.fields.amount):c.fields[e]===r&&(n[t]+=c.fields.amount)}))})),se(n)},he=L?B.fields||"":n,Oe=he.date,xe=he.vendor,ve=he.name,me=he.amount,ge=he.purchaser,ke=L?B.fields.categories||[]:n.categories||[],we=0,ye=0,Ce=0;return Object(o.jsx)("div",{children:Object(o.jsxs)("div",{className:"home",children:[Object(o.jsxs)("form",{style:L?{background:"#f9c3c3"}:{},onSubmit:function(e){return le(e,L?B.id:null)},children:[Object(o.jsx)("label",{for:n.date,children:"Date"}),Object(o.jsx)("input",{className:"date",name:"date",id:n.date,type:"date",value:Oe||"",onChange:ue}),Object(o.jsx)("label",{for:n.vendor,children:"Vendor"}),Object(o.jsx)("input",{className:"vendor",name:"vendor",id:n.vendor,type:"text",value:xe||"",onChange:ue}),Object(o.jsx)("label",{for:n.name,children:"Item"}),Object(o.jsx)("input",{className:"name",name:"name",id:n.name,type:"text",value:ve||"",onChange:ue}),Object(o.jsx)("label",{for:n.amount,children:"Amount"}),Object(o.jsx)("input",{className:"amount",name:"amount",id:n.amount,type:"number",step:"0.01",value:me||"",onChange:ue}),Object(o.jsxs)("div",{children:[Object(o.jsx)("label",{for:n.purchaser,children:"Lyssie"}),Object(o.jsx)("input",{className:"purchaser",name:"purchaser",id:n.purchaser,type:"radio",value:"Lyssie",onChange:ue,checked:"Lyssie"===ge})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("label",{for:n.purchaser,children:"Marca"}),Object(o.jsx)("input",{className:"purchaser",name:"purchaser",id:n.purchaser,type:"radio",value:"Marca",onChange:ue,checked:"Marca"===ge})]}),Object(o.jsx)("div",{className:"categories",children:de(i,"name").map((function(e,t){return Object(o.jsxs)("div",{className:"category",children:[Object(o.jsx)("input",{index:t,className:"category",name:e.fields.name,id:e.id,type:"checkbox",checked:ke.includes(e.id)||!1,onChange:ue}),Object(o.jsx)("label",{for:e.id,children:e.fields.name},t)]},t)}))}),Object(o.jsx)("input",{type:"submit",value:"submit"})]}),Object(o.jsxs)("div",{className:"content",children:[Object(o.jsx)("div",{className:"details-header",children:Object.keys(ae).length?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("p",{onClick:function(){return je(ae,"category")},children:"category"}),Object(o.jsx)("p",{onClick:function(){return je(ae,"amount")},children:"amount"})]}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("p",{onClick:function(){return fe("date")},children:"Date"}),Object(o.jsx)("p",{onClick:function(){return fe("vendor")},children:"Vendor"}),Object(o.jsx)("p",{onClick:function(){return fe("name")},children:"Name"}),Object(o.jsx)("p",{onClick:function(){return fe("amount")},className:"amount",children:"Amount"}),Object(o.jsx)("p",{onClick:function(){return fe("purchaser")},children:"Purchaser"}),Object(o.jsx)("p",{children:"Categories"}),Object(o.jsx)("p",{children:"delete"})]})}),Object(o.jsx)("div",{className:"results",children:Object.keys(ae).length?Object.keys(ae).map((function(e){return we+=parseInt(ae[e].toFixed(2)),Object(o.jsxs)("div",{className:"details",children:[Object(o.jsx)("p",{children:e}),Object(o.jsx)("p",{children:ae[e].toFixed(2)})]})})):de(te.length?te:m,K).map((function(e,t){we+=parseFloat(e.fields.amount),ye+=parseFloat("Lyssie"===e.fields.purchaser?e.fields.amount:0),Ce+=parseFloat("Marca"===e.fields.purchaser?e.fields.amount:0);var n=new Date(e.fields.date);return n=new Date(n.getTime()+6e4*n.getTimezoneOffset()),Object(o.jsxs)("div",{className:"details",onClick:function(n){return oe(n,e.id,t)},style:P===t?{background:"#f9c3c3"}:{},children:[Object(o.jsx)("p",{children:new Date(n).toLocaleDateString()}),Object(o.jsx)("p",{children:e.fields.vendor}),Object(o.jsx)("p",{children:e.fields.name}),Object(o.jsx)("p",{className:"amount",children:e.fields.amount.toFixed(2)}),Object(o.jsx)("p",{children:e.fields.purchaser}),Object(o.jsx)("div",{className:"cats",children:i.filter((function(t){return e.fields.categories.includes(t.id)})).map((function(e){return Object(o.jsx)("p",{children:e.fields.name})}))}),Object(o.jsx)("p",{onClick:function(t){return function(e,t){e.preventDefault(),D(t);var n=Object(b.a)(m).filter((function(e){return e.id!==t}));g(n)}(t,e.id)},children:"X"})]})}))}),Object(o.jsxs)("div",{className:"total-and-filters",children:[Object(o.jsx)("div",{className:"filters",children:Object(o.jsxs)("div",{className:"filters-buttons",children:[Object(o.jsx)("button",{onClick:function(){return ie()},children:"List"}),Object(o.jsx)("button",{onClick:function(){return be("vendor")},children:"Vendors"}),Object(o.jsx)("button",{onClick:function(){return be("categories")},children:"Categories"})]})}),Object(o.jsxs)("div",{className:"total",children:[Object(o.jsxs)("div",{children:[Object(o.jsx)("span",{onClick:function(){return pe("Lyssie")},children:"Lyssie"}),Object(o.jsx)("span",{children:ye.toFixed(2)})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("span",{onClick:function(){return pe("Marca")},children:"Marca"}),Object(o.jsx)("span",{children:Ce.toFixed(2)})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("span",{onClick:function(){return ie()},children:"Total"}),Object(o.jsx)("span",{children:we.toFixed(2)})]})]})]})]})]})})},L=function(e){return Object(o.jsx)("div",{children:e.children})};n(61);var M=function(){return Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)(l,{className:"App-header"}),Object(o.jsx)("main",{children:Object(o.jsx)(L,{children:Object(o.jsx)(u.a,{exact:!0,path:"/",children:Object(o.jsx)(E,{})})})})]})},A=n(22);i.a.render(Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)(A.a,{children:Object(o.jsx)(M,{})})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.7b41f6b4.chunk.js.map